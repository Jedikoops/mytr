# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":-78,"y":11,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"`(A1.v7au5DV~;g#rb@5","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"7Lo8UlkXWYd|/{en^ecC"}},"next":{"block":{"type":"variables_set_motor","id":"COif{TD^s]}.KDINZq$N","fields":{"VAR":{"id":"gE`;{d_1dY]}O~H_(qTm"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"+n)*?-!QOfb_NJRcDD:-","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"(vm3a!ElQnW#%}U/-sr[","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"[nAIYCGl1tY0)%i%ftbK","fields":{"VAR":{"id":"-d1c]g`S-P1JJASqEH=]"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"i#+zvCNxH%R09)Z#9.=^","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"{?kCfl@XAxZ+txpn,K0j","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"=*M^oSPe{a9)FOT%LLYt","fields":{"VAR":{"id":"7/KqEV/Mz6=TUY8XW_)A"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"=0:;LSyCGQz!;W@.AXv7","fields":{"VAR":{"id":"gE`;{d_1dY]}O~H_(qTm","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"y;JF;4AS3IA*q5X3pKGO","fields":{"VAR":{"id":"-d1c]g`S-P1JJASqEH=]","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"W?|C#oKrQY}).k7~lxLs","fields":{"VALUE0":56}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"[Z?1Or?1GR7Pi#5.4+~G","fields":{"VALUE0":126}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"?d+;nG;6n$@*idCwYP3,","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"a{x|%-GbG,{i;4Yt(V?:"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"id]B7I`b@r]*iH:8_lOz","fields":{"NAME":"C"}}}},"next":{"block":{"type":"variables_setup_any","id":"%W@j!M:wWTmjReE#RVtv","fields":{"VAR":{"id":"c*U3,2q}c~(f`^YKVEdW"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"GCIe]9dabMO%2/jG6l}R","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":")zAM6G9WFoHM)n;R3usA","fields":{"VAR":{"id":")@[|XBG*+A+bZ%S$O4Dh"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"4xdl_Zsd--V_F).;3I,X","fields":{"NUM":0}},"block":{"type":"blockListCreate","id":"`n5+xez#ZM5=Al_A+~uU","extraState":{"optionLevel":3},"inputs":{"ADD0":{"shadow":{"type":"blockMathNumber","id":"h*D)NrcGVOGw.@j~vsZV","fields":{"NUM":0}}},"ADD1":{"shadow":{"type":"blockMathNumber","id":"81F;8-AwI{i7]DUHF=|M","fields":{"NUM":0}}},"ADD2":{"shadow":{"type":"blockMathNumber","id":"{slrA?p[/L2qOfe[n*C6","fields":{"NUM":0}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-80,"y":382,"deletable":false,"next":{"block":{"type":"blockImuResetHeading","id":"Iv:MbeLE{Y#QPwC^@AN{","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":")[Ish}NlzOGgR8yd1{)i","fields":{"VAR":{"id":"7Lo8UlkXWYd|/{en^ecC","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"aLobEjZuo$O{5^i]Qquc","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockFlowWhile","id":"L`xZ8^Lj^X!4[*E/Qn%b","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"46}1Zvl@hJt}KDf8b%JH"}},"DO":{"block":{"type":"blockIfElse","id":"Z]s,usa:gxc:E/h*.{li","extraState":{"optionLevel":2},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"IymrRVdxv8=PmaYJO-V$"},"block":{"type":"blockLogicCompare","id":"dfM?Qegxwu+RP/JloE/l","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"^BGQqyng)=F*s^P})){O","fields":{"NUM":3}},"block":{"type":"blockColor","id":"N8~R7_F*fy#yc^Q|CPW*","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"h!FTRgLs4~^PFUqc{ee}","fields":{"VAR":{"id":"a{x|%-GbG,{i;4Yt(V?:","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"|qWsXEyyXyg2_s).B6e.","fields":{"NUM":4}},"block":{"type":"variables_get_color","id":"|%_(aDlF}O/V[j/Wdfu@","fields":{"COLOUR":"#ff0000","VAR":{"id":"f/ywEOr*NgwLr,7?guj_"}}}}}}},"DO0":{"block":{"type":"blockProgramStop","id":"_IKW2^g|[Rf!YcF8BOk,"}},"IF1":{"shadow":{"type":"blockLogicTrue","id":"CW=J!_87SDo0/xQf?ljI"},"block":{"type":"blockLogicCompare","id":"FP2I,VRVeHp3RS^ebBBd","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Vj:a8c$N[HIx7f/nbDM#","fields":{"NUM":0}},"block":{"type":"blockColor","id":"OM;@bGIf/.;r|/gb,Ft/","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"C%s7}tSlhX%*55eg!S,+","fields":{"VAR":{"id":"a{x|%-GbG,{i;4Yt(V?:","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"]E[;t[,@q:UOjuIRfZun","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"+]G}f|XLmsky|YT|fi8%","fields":{"COLOUR":"#0000ff","VAR":{"id":"5f,E}ZuSD6e|bCX[0Ewp"}}}}}}},"DO1":{"block":{"type":"blockFunctionCallerStatement","id":"zo2gBFk6o{AhvEGS5dc6","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"7ZY9|C`kJEI0M+%uMh]A"}}}},"ELSE":{"block":{"type":"blockDriveBaseDrive","id":"=eo$x]PTTj)}A4M_v?ce","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_DRIVE_FOREVER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"cT1K-B%ddtU}!vp4%mWn","fields":{"VAR":{"id":"7/KqEV/Mz6=TUY8XW_)A","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"dCC(`KbS?p8}m2(`Q7[a","fields":{"VALUE0":200}}},"ARG1":{"shadow":{"type":"unit_angularVelocity","id":"^39$|Ce.egYB:1Y8kYTq","fields":{"VALUE0":0}}}}}}},"next":{"block":{"type":"blockLightMatrixDo","id":"EE04.0L?@3p%h?k=F~$O","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_MATRIX_NUMBER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_light_matrix_hub","id":"PP//%uUVR$=K`IvAS+;$","fields":{"VAR":{"id":"7Lo8UlkXWYd|/{en^ecC","name":"prime hub","type":"PrimeHub"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"5{?~G|TZYi%s~s(AFw~3","fields":{"NUM":42}},"block":{"type":"blockVariableGetValue","id":"e^eTc1(l724y!Q2DN$in","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":":3Wp{ht:~c{r7te05f+n","fields":{"VAR":{"id":"c*U3,2q}c~(f`^YKVEdW","name":"Points","type":"Any"}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"9TM]pZUxZi-(CT+YF#r#","x":425,"y":267,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"7ZY9|C`kJEI0M+%uMh]A"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseDrive","id":"]F[K`d8D8zOmM70U47{G","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"@~QMb:ViWxL4f`mHH`c#","fields":{"VAR":{"id":"7/KqEV/Mz6=TUY8XW_)A","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"s}kFc5Qh06oghknl#1N]","fields":{"VALUE0":90}},"block":{"type":"blockMathArithmetic","id":"tCaajgq@VZf=o;,I%E4g","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"~c)b_fwl;8S+B?5LS-2N","fields":{"NUM":1}},"block":{"type":"blockListGet","id":",u5j]Jp_|;dX(]H^B^ik","extraState":{"optionLevel":1},"fields":{"METHOD":"LIST_GET_INDEX"},"inputs":{"LIST":{"shadow":{"type":"blockListEmpty","id":"MSTVD9[HC]z1ruaELNL["},"block":{"type":"blockVariableGetValue","id":"BMd#mA/^ZA2=[+kea9$h","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"2_OZe2rH^r`Xd*xtD{/*","fields":{"VAR":{"id":")@[|XBG*+A+bZ%S$O4Dh","name":"Turn","type":"Any"}}}}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"zg;7)cIZE97aR]Toy`-V","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"2M_;+et$7CGb:cjV{oe2","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"/ilH}iubUls|f:R8~sJq","fields":{"VAR":{"id":")@[|XBG*+A+bZ%S$O4Dh","name":"Turn","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"`I*NvdI2?893!*|cyp%b","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":"Kh#4j!:(K/aCw@xkA$-W","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"_7hTtdl1c0({OCj*#|^4","fields":{"VAR":{"id":"7Lo8UlkXWYd|/{en^ecC","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"?f=|1s~~[NlDMb2_Xg3+","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"t6.7L}#/pK+)+=kc*kdV","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"W5nOyBU;1Rqr]pLBMq}H","fields":{"VAR":{"id":"7/KqEV/Mz6=TUY8XW_)A","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"H1xpf(:4|7qfw@8ckh2|","fields":{"VALUE0":150}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"?~Z6$9AL%QMV@rOW=Mwo","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"@p04pd`;?,o,;E^Gtw*f","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"BZkK3v8CEh00+X*,3nqa","fields":{"VAR":{"id":"c*U3,2q}c~(f`^YKVEdW","name":"Points","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"z}l%ILAh]jdOp-/ZS~]m","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"O6*A}i()#BP3I*#,AsD3","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Cq@ZyJem;LPzBUmB`*I$","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"1(4JD@8Ma:%$`MhH.;{=","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"6|CG=,l[v(AvX!5r2UQ`","fields":{"VAR":{"id":"c*U3,2q}c~(f`^YKVEdW","name":"Points","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"UHsguFAh2q0WDHs$LZ3k","fields":{"NUM":2}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"f/ywEOr*NgwLr,7?guj_","type":"ColorDef"},{"name":"orange","id":"dBt!Rej3[J}I:hFku)Y4","type":"ColorDef"},{"name":"yellow","id":"y?6+$Y#%$m#?gVMhbsD;","type":"ColorDef"},{"name":"green","id":"*$=IBC9s0Atk9!pfd6hs","type":"ColorDef"},{"name":"cyan","id":"8%I^V7-+0B!anna3tm8C","type":"ColorDef"},{"name":"blue","id":"5f,E}ZuSD6e|bCX[0Ewp","type":"ColorDef"},{"name":"violet","id":"%+,:,a7ZHjy8yO+eIsv{","type":"ColorDef"},{"name":"magenta","id":"/OeI5F~xgMEC/IN5b@mC","type":"ColorDef"},{"name":"white","id":"2:qNnwMKJKaVq].Gq[eW","type":"ColorDef"},{"name":"none","id":"~:]w!B.{$Mn.}lFBqt%=","type":"ColorDef"},{"name":"prime hub","id":"7Lo8UlkXWYd|/{en^ecC","type":"PrimeHub"},{"name":"right","id":"-d1c]g`S-P1JJASqEH=]","type":"Motor"},{"name":"left","id":"gE`;{d_1dY]}O~H_(qTm","type":"Motor"},{"name":"drive base","id":"7/KqEV/Mz6=TUY8XW_)A","type":"DriveBase"},{"name":"color sensor","id":"a{x|%-GbG,{i;4Yt(V?:","type":"ColorSensor"},{"name":"Points","id":"c*U3,2q}c~(f`^YKVEdW","type":"Any"},{"name":"Turn","id":")@[|XBG*+A+bZ%S$O4Dh","type":"Any"},{"name":"Turn1","id":"7ZY9|C`kJEI0M+%uMh]A","type":"Function"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Color, Direction, Port
from pybricks.pupdevices import ColorSensor, Motor
from pybricks.robotics import DriveBase

# Set up all devices.
prime_hub = PrimeHub()
color_sensor = ColorSensor(Port.C)
left = Motor(Port.A, Direction.CLOCKWISE)
right = Motor(Port.B, Direction.CLOCKWISE)
drive_base = DriveBase(left, right, 56, 126)

# Initialize variables.
Points = 0
Turn = [0, 0, 0]

def Turn1():
    global Points
    drive_base.turn(Turn[Turn] - prime_hub.imu.heading())
    drive_base.straight(150)
    Points = Points * 2


# The main program starts here.
prime_hub.imu.reset_heading(0)
while True:
    if color_sensor.color() == Color.RED:
        raise SystemExit
    elif color_sensor.color() == Color.BLUE:
        Turn1()
    else:
        drive_base.drive(200, 0)
    prime_hub.display.number(Points)
